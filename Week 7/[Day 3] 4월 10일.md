## ğŸ“Â DB ì—°ë™

```jsx
const mariadb = require("mysql2");

const connection = mariadb.createConnection({
  host: "localhost",
  user: "root",
  password: "root",
  database: "BookStore",
  dateStrings: true,
});

module.exports = connection;
```

<br/>

## ğŸ“Â http-status-codes ëª¨ë“ˆ

http status codeë¥¼ ì§ê´€ì ì´ê³  ê°€ë…ì„± ìˆê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ëª¨ë“ˆì´ë‹¤.

status codeë¥¼ ìƒìˆ˜í™”í•´ë†“ì€ ê²ƒ!

### âœ”ï¸Â ì„¤ì¹˜

```jsx
npm i http-status-codes
```

### âœ”ï¸Â ì‚¬ìš©ë²•

```jsx
const { StatusCodes } = require("http-status-codes");

res.status(StatusCodes.BAD_REQUEST).json({
  isSuccess: false,
  message: err.array(),
});
```

<br/>

## ğŸ“Â ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”

node.jsì˜ ê¸°ë³¸ ëª¨ë“ˆ ì¤‘ í•˜ë‚˜ì¸ crypto ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ í•´ì‹±í•˜ì—¬ ì•”í˜¸í™”í•  ìˆ˜ ìˆë‹¤.

### âœ”ï¸Â import

```jsx
const crypto = require("crypto");
```

### âœ”ï¸Â ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”

ë‹¤ìŒì€ íšŒì›ê°€ì… ì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì•”í˜¸í™”í•˜ëŠ” ì½”ë“œì´ë‹¤.

```jsx
// ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”
const salt = crypto.randomBytes(10).toString("base64");
const hashPassword = crypto
  .pbkdf2Sync(password, salt, 10000, 10, "sha512")
  .toString("base64");

// saltë¥¼ í•¨ê»˜ ì €ì¥
const result = await conn.query(userQuery.join, [email, hashPassword, salt]);
```

ë¡œê·¸ì¸ ì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì²´í¬í•˜ë ¤ë©´ ì´ salt ê°’ì„ êº¼ë‚´ ìš”ì²­ pwë¥¼ ì•”í˜¸í™” ì‹œì¼œ ë¹„êµí•˜ë©´ ëœë‹¤.

```jsx
// salt ê°’ êº¼ë‚´ì„œ ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” -> dbì™€ ë¹„êµ
const hashPassword = crypto
  .pbkdf2Sync(password, userData.salt, 10000, 10, "sha512")
  .toString("base64");
```
