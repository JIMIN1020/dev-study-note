## ğŸ“Â ìœ ì €, ë„ì„œ ERD

<img width="353" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-04-08 á„‹á…©á„Œá…¥á†« 10 57 52" src="https://github.com/JIMIN1020/dev-study-note/assets/121474189/8b03dcd2-f851-4b19-b3d0-033ff13e7f9d">

<br/>

## ğŸ“Â ì¢‹ì•„ìš” ERD

ì¢‹ì•„ìš”ëŠ” í•´ë‹¹ ë„ì„œì˜ ì¢‹ì•„ìš” ìˆ˜ í•©ê³„ì™€ í•´ë‹¹ ìœ ì €ê°€ ì¢‹ì•„ìš”ë¥¼ ëˆŒë €ëŠ”ì§€ì— ëŒ€í•œ ì—¬ë¶€ë¥¼ ì €ì¥í•´ì•¼ í•œë‹¤.

ì§€ê¸ˆ í˜„ì¬ Book í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë˜ì–´ ìˆë‹¤.

```sql
Table Book {
  id int [PK]
  title varchar
  category varchar
  format varchar
  author varchar
  ISBN varchar
  pages int
  summary text
  description text
  index text
  price int
  likes int
  liked bool
  img varchar
  publish_date date
}
```

ì—¬ê¸°ì„œ `likes`, `liked` ë¥¼ ë”°ë¡œ ë¶„ë¦¬í•˜ì—¬ ì¢‹ì•„ìš” í…Œì´ë¸”ì„ ë§Œë“¤ ê²ƒì´ë‹¤.

### âœ”ï¸Â ì¢‹ì•„ìš” ì¶”ê°€ API

ë„ì„œ idë¥¼ ê°€ì ¸ì™€ì„œ DB ìƒì˜ ì¢‹ì•„ìš” ìˆ˜ë¥¼ ìˆ˜ì •í•¨.

| Method      | POST            |
| ----------- | --------------- | --- |
| URI         | /books/like/:id |
| Status Code | 200             | 400 |
| Request     |                 |
| Response    | { }             |

### âœ”ï¸Â ì¢‹ì•„ìš” ì‚­ì œ API

ë„ì„œ idë¥¼ ê°€ì ¸ì™€ì„œ DB ìƒì˜ ì¢‹ì•„ìš” ìˆ˜ë¥¼ ìˆ˜ì •í•¨.

| Method      | DELETE          |
| ----------- | --------------- | --- |
| URI         | /books/like/:id |
| Status Code | 200             | 400 |
| Request     |                 |
| Response    | { }             |

<br/>

## ğŸ“Â ì¥ë°”êµ¬ë‹ˆ ERD

```sql
Table CartItems {
  cartItemId int [PK]
  bookId int
  count int
}
```

<br/>

## ğŸ“Â ì£¼ë¬¸ ERD

### âœ”ï¸Â ë°°ì†¡ì •ë³´ ERD

```sql
Table Delivery_Info {
  id int [PK]
  address varchar
  receiver varchar
  contact varchar
}
```

### âœ”ï¸Â ì£¼ë¬¸ ERD

```sql
Table OrderItems {
  orderId int
  bookId int
  count int
}

Table Order {
  id int [PK]
  deliveryId int
  bookTitle varchar
  totalPrice int
  totalCount int
  createdAt timestamp
}
```

<br/>

## ğŸ“Â ì£¼ë¬¸ API

### âœ”ï¸Â ì£¼ë¬¸ API

ì£¼ë¬¸ì´ ë˜ëŠ” ìˆœê°„ ì¥ë°”êµ¬ë‹ˆì— ìˆë˜ cartItemë“¤ì€ ì‚¬ë¼ì ¸ì•¼ í•œë‹¤. â†’ bookIdë¥¼ ì´ìš©í•˜ì—¬ DELETE

| Method      | POST   |
| ----------- | ------ | --- |
| URI         | /order |
| Status Code | 200    | 400 |

- Request
  ```js
  {
   items: [{ bookId, count }, â€¦],
   deliveryInfo: {
    address: ì£¼ì†Œ,
    receiver: ë°›ëŠ” ë¶„,
    contact: ì—°ë½ì²˜
   }
   totalPrice: ì´ ê¸ˆì•¡,
  }
  ```

### âœ”ï¸Â ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ API

| Method      | GET    |
| ----------- | ------ | --- |
| URI         | /order |
| Status Code | 200    | 400 |
| Request     |        |

- Response
  ```js
  [
    {
      createdAt: ì£¼ë¬¸ì¼ì,
      deliveryInfo: {
        address: ì£¼ì†Œ,
        receiver: ë°›ëŠ” ë¶„,
        contact: ì—°ë½ì²˜
      },
      bookTitle: ëŒ€í‘œ ì±… ì œëª© 1ê°œ,
      totalCount: ì´ ìˆ˜ëŸ‰,
      totalPrice: ì´ ê¸ˆì•¡,
    }
  ]
  ```

### âœ”ï¸Â ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ API

| Method      | GET        |
| ----------- | ---------- | --- |
| URI         | /order/:id |
| Status Code | 200        | 400 |
| Request     |            |

- Response
  ```js
  [
    {
      bookId: ë„ì„œ Id,
      img: ë„ì„œ ì´ë¯¸ì§€,
      title: ì œëª©,
      author: ì‘ê°€,
      price: ê°€ê²©,
      count: ìˆ˜ëŸ‰
    }
  ]
  ```
