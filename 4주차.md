## ğŸ“Â req.params

ìš”ì²­ ê°ì²´ì¸ `req` ì—ëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ë‹´ì€ â€˜paramsâ€™ ì†ì„±ì´ ìˆë‹¤.

parameterë¥¼ ê°€ì ¸ì˜¬ ë• endpointì— ì½œë¡ (:)ì„ ì´ìš©í•´ì„œ ëª…ì‹œí•´ì£¼ë©´ ëœë‹¤!

```jsx
// https://www.youtube.com/@15ya.fullmoon (youtube ì±„ë„ ì£¼ì†Œ)

app.get('/:nickname', (req, res) => {
	const { nickname } = req.params;

	res.json({
		channel: nickname;   // "@15ya.fullmoon"
	});
});
```

<br />

## ğŸ“Â req.query

ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì´ ë‹´ê¸´ â€˜queryâ€™ ì†ì„±ì„ ì´ìš©í•˜ë©´, `?` ë’¤ë¡œ ì´ì–´ì§€ëŠ” â€˜key=valueâ€™ í˜•íƒœì˜ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤.

ì•„ë˜ ì½”ë“œëŠ” youtube ì˜ìƒì˜ íƒ€ì„ë¼ì¸ ì£¼ì†Œì—ì„œ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì„ ë½‘ì•„ë‚´ëŠ” ì½”ë“œì´ë‹¤.

```jsx
// https://www.youtube.com/watch?v=MwK3woTDnbo&t=785s (íƒ€ì„ë¼ì¸ ì£¼ì†Œ)

app.get('/watch', (req, res) => {
	const { v, t } = req.query;

	res.json({
		video: v;     // "MwK3woTDnbo"
		time: t;      // "785s"
	});
});
```

<br />

## ğŸ“Â req.body

í´ë¼ì´ì–¸íŠ¸ì—ì„œ bodyì— ë‹´ì•„ ë³´ë‚¸ JSON ë°ì´í„°ë¥¼ ë‹´ê³  ìˆëŠ” ì†ì„±ì´ë‹¤.

```jsx
// í´ë¼ì´ì–¸íŠ¸ ìš”ì²­
await axios.post('/test', {
    key: 'value',
});

// ì„œë²„ ì‘ë‹µ
app.get('/test', (req, res) => {
	const { key } = req.body;

	res.json({
		key: key;
	});
});
```

<br />

## ğŸ“Â ìë°”ìŠ¤í¬ë¦½íŠ¸ ë„¤ì´ë° ë£°

### âœ”ï¸Â ë„¤ì´ë° ì»¨ë²¤ì…˜ì˜ ì¢…ë¥˜

```jsx
// íŒŒìŠ¤ì¹¼ ì¼€ì´ìŠ¤ (PascalCase)
var NameRules;

// ì¹´ë©œ ì¼€ì´ìŠ¤ (camelCase)
var nameRules;

// ìŠ¤ë„¤ì´í¬ ì¼€ì´ìŠ¤ (snake_case)
var name_rules;
```

### âœ”ï¸Â ê¸°ë³¸ ì›ì¹™

ê¸°ë³¸ì ìœ¼ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë³€ìˆ˜ ë˜ëŠ” í•¨ìˆ˜ì—Â ì¹´ë©œ ì¼€ì´ìŠ¤ë¥¼, ìƒì„±ì í•¨ìˆ˜ì™€ í´ë˜ìŠ¤ ì´ë¦„ì—ëŠ” íŒŒìŠ¤ì¹¼ ì¼€ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.

- ë³€ìˆ˜ëª…ì€ ì´ë¦„ë§Œ ë´ë„ ì“°ì„ìƒˆë¥¼ ì•Œ ìˆ˜ ìˆë„ë¡ **ìì²´ ì„¤ëª…ì **ì´ì–´ì•¼ í•œë‹¤.
  ```jsx
  let q; // X
  let query; // O
  ```
- ì´ë¦„ì˜ ì•ë’¤ì— **ì–¸ë”ë°”(\_)**ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
  ```jsx
  let _id_; // X
  let id_; // X
  let _id; // X
  ```
- ì•½ì–´ëŠ”Â **ëª¨ë‘ ëŒ€ë¬¸ì**Â í˜¹ì€Â **ëª¨ë‘ ì†Œë¬¸ì**ë¡œ í‘œê¸°í•œë‹¤.
  ```jsx
  let HTTPRequests; // O
  let httpRequests; // O
  ```
- exportë˜ëŠ” íŒŒì¼ ë‚´ì˜ ëª¨ë“  ìƒìˆ˜ëŠ”Â **ëª¨ë‘ ëŒ€ë¬¸ì**ë¡œ í‘œê¸°í•œë‹¤.
  ```jsx
  export const API_KEY = "KEY";
  ```
- ì´ë¦„ì— **ë³µìˆ˜í˜•**ì„ í‘œê¸°í•˜ì§€ ì•ŠëŠ”ë‹¤.
  ```jsx
  let todos = ["one", "two"]; // O
  let todo_list = ["one", "two"]; // X
  ```

<br />

## ğŸ“Â Map

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ Map ê°ì²´ëŠ” key-value ìŒìœ¼ë¡œ ì´ë£¨ì–´ì§„ ì§‘í•©ì´ë‹¤.

ê¸°ì¡´ ê°ì²´ì™€ ë‹¬ë¦¬ ë©”ì†Œë“œë¥¼ ì´ìš©í•´ ê°’ì„ ì¡°ì‘í•œë‹¤.

```jsx
const map = new Map();

// ë°ì´í„° ì‚½ì…
map.set("a", 1);
map.set("b", 2);
map.set("c", 3);

// ë°ì´í„° ì¡°íšŒ
map.get("a");

// ë°ì´í„° ì‚­ì œ
map.delete("c");

// ì „ì²´ ì‚­ì œ
map.clear();
```

### âœ”ï¸Â Mapì˜ ì¥ì 

Mapì´ ê¸°ì¡´ ê°ì²´ì— ë¹„í•´ ê°€ì§€ëŠ” ì¥ì ì€ ë¬´ì—‡ì¼ê¹Œ?

- **í‚¤ ê°’ì˜ typeì— ëŒ€í•œ ììœ ë¡œì›€**

  ê¸°ì¡´ ê°ì²´ì—ì„œëŠ” ë¬¸ìì—´(String) í˜¹ì€ ì‹¬ë³¼(Symbol)ë§Œ í‚¤ ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒê³¼ ë‹¬ë¦¬ ìˆ«ìë‚˜ ê°ì²´ë¥¼ í¬í•¨í•œ ëª¨ë“  ìë£Œí˜•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

  ```jsx
  const numberMap = new Map([
    [1, "one"],
    [2, "two"],
    [3, "three"],
  ]);

  numberMap.get(2); // "two"
  ```

- **ë©”ì†Œë“œ ì‚¬ìš©ì˜ ëª…í™•ì„±**

  `.` ì´ë‚˜ `[]` ë¥¼ ì‚¬ìš©í•´ì„œ ê°’ì— ì ‘ê·¼í–ˆë˜ ê¸°ì¡´ ê°ì²´ì™€ ë‹¬ë¦¬ ë©”ì†Œë“œë¡œë§Œ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì ì€ ê°ì²´ë³´ë‹¤ ë™ì‘ê³¼ ì˜ë„ë¥¼ ë” ì •í™•í•˜ê²Œ ë³´ì—¬ì¤€ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.

  ```jsx
  let originObj = {
    // ...
  };

  const mapObj = new Map([
    // ...
  ]);

  // ê°ì²´ -> ë¹ˆ ê°ì²´ í• ë‹¹í•´ì„œ ì´ˆê¸°í™”
  originObj = {};

  // ë§µ -> clear ë©”ì†Œë“œë¡œ ì´ˆê¸°í™”
  mapObj.clear();
  ```

- **ë” í¸ë¦¬í•œ ìˆœíšŒ**
  ê¸°ì¡´ ê°ì²´ëŠ” `for..in` ë¬¸, í˜¹ì€ `Object.keys` ë¥¼ ì´ìš©í•´ì„œ ìˆœíšŒë¥¼ í•  ìˆ˜ ìˆëŠ”ë°, ì´ ë‘ ë°©ë²•ì€ ê°ì²´ì˜ í‚¤ ê°’ë§Œì„ ìˆœíšŒí•˜ê¸° ë•Œë¬¸ì— ê·¸ í‚¤ ê°’ì„ ì´ìš©í•´ì„œ valueë¥¼ ë‹¤ì‹œ ì–»ì–´ë‚´ì•¼ í•œë‹¤.
  ë°˜ë©´ Map ê°ì²´ëŠ” ê·¸ ìì²´ë¡œ `for..of` ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ ìˆœíšŒí•˜ëŠ” ë° ë”ìš± í¸ë¦¬í•˜ë‹¤.

  ```jsx
  const map = new Map([
    ["key1", "value1"],
    ["key2", "value2"],
    ["key3", "value3"],
  ]);

  for (const [key, value] of map) {
    console.log(key, value);
  }

  /*
  	"key1" "value1"
  	"key2" "value2"
  	"key3" "value3"
  */
  ```

<br />

## ğŸ“Â Express generator

Expressì˜ ê¸°ë³¸ í™˜ê²½ì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” express-generatorë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### âœ”ï¸Â ì„¤ì¹˜

ë¨¼ì € í„°ë¯¸ë„ì—ì„œ express-generatorë¥¼ ì„¤ì¹˜í•´ì¤€ ë’¤,

```bash
sudo npm i express-generator -g
```

`express` ë¥¼ í„°ë¯¸ë„ì— ì…ë ¥í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ì´ ë‚˜ì˜¨ë‹¤.

<img width="508" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-19 á„‹á…©á„Œá…¥á†« 11 46 59" src="https://github.com/JIMIN1020/dev-study-note/assets/121474189/b44bc66a-deff-4739-961f-0fc46e714dc7">

ê·¸ë¦¬ê³  í•´ë‹¹ í´ë” ì•ˆì— ì´ì™€ ê°™ì´ ê¸°ë³¸ì ì¸ íŒ¨í‚¤ì§€ê°€ ì„¸íŒ…ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ!

<img width="212" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-19 á„‹á…©á„Œá…¥á†« 11 47 32" src="https://github.com/JIMIN1020/dev-study-note/assets/121474189/fdceca79-c598-48fa-a84c-7e8a8dc1bb90">

<br />

## ğŸ“Â Expressì˜ êµ¬ì¡°

### âœ”ï¸Â bin/www

http ëª¨ë“ˆì— express ëª¨ë“ˆì„ ì—°ê²°í•˜ê³  í¬íŠ¸ë¥¼ ì§€ì •í•˜ëŠ” íŒŒì¼ì´ë‹¤.

```jsx
// ëª¨ë“ˆ ë¶ˆëŸ¬ì˜¤ê¸°
var app = require("../app");
var debug = require("debug")("express-base:server");
var http = require("http");

// í¬íŠ¸ ì„¤ì •
port = normalizePort(process.env.PORT || "3000");
app.set("port", port);

// http ì„œë²„ ìƒì„±!
var server = http.createServer(app);

// ì„œë²„ êµ¬ë™
server.listen(port);
server.on("error", onError);
server.on("listening", onListening);
```

### âœ”ï¸Â app.js

ë¯¸ë“¤ì›¨ì–´ë¥¼ ê±°ì³ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ì•„ ì²˜ë¦¬í•œ í›„, ë‹¤ì‹œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µí•˜ëŠ” íŒŒì¼ì´ë‹¤.

```jsx
// ëª¨ë“ˆ ë¶ˆëŸ¬ì˜¤ê¸°
var createError = require("http-errors");
var express = require("express");
var path = require("path");
var cookieParser = require("cookie-parser");
var logger = require("morgan");

var indexRouter = require("./routes/index");
var usersRouter = require("./routes/users");

// express ì„œë²„ ìƒì„±
var app = express();

// view engine setup
app.set("views", path.join(__dirname, "views"));
app.set("view engine", "jade");

// ë¯¸ë“¤ì›¨ì–´ ì—°ê²°
app.use(logger("dev"));
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, "public")));

app.use("/", indexRouter);
app.use("/users", usersRouter);

// ...

module.exports = app;
```

<br />

## ğŸ“Â ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ì˜ ì¢…ë¥˜

### âœ”ï¸Â ì„ ì–¸ì  í•¨ìˆ˜

ê°€ì¥ ê¸°ë³¸ì ì¸ ë°©ë²•.

í˜¸ì´ìŠ¤íŒ…ì´ ë˜ê¸° ë•Œë¬¸ì— ì–´ë””ì„œë“  í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

```jsx
function func() {
  console.log("Hello");
}
```

### âœ”ï¸Â ìµëª… í•¨ìˆ˜ (ëŒ€ì…í˜• í•¨ìˆ˜)

í•œ ì¤„ì”© ì½ìœ¼ë©° ìƒì„±ë˜ê¸° ë•Œë¬¸ì— ì„ ì–¸ í›„ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```jsx
const sayHello = function () {
  console.log("Hello");
};
```

### âœ”ï¸Â ì¼ê¸‰ í•¨ìˆ˜

í•¨ìˆ˜ ìŠ¤ìŠ¤ë¡œê°€ ê°ì²´ë¡œ, ì¦‰ ê°’ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒì„ ë§í•œë‹¤.

ìµëª… í•¨ìˆ˜, ì½œë°± í•¨ìˆ˜ê°€ ì—¬ê¸°ì— í•´ë‹¹!

```jsx
function func() {
  return "Hello";
}

function func2(func) {
  console.log(func());
}

func2(func);
```

### âœ”ï¸Â í™”ì‚´í‘œ í•¨ìˆ˜

ES6ì˜ í™”ì‚´í‘œ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.

```jsx
const func = () => {
  console.log("Hello");
};
```

### âœ”ï¸Â ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜

ì„ ì–¸ê³¼ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ë¡œ, ì¬ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì— í•´ë‹¹í•œë‹¤.

â†’ ex) ì½œë°± í•¨ìˆ˜!

```jsx
(function () {
  console.log("hello");
})();

(() => {
  console.log("hello");
})();
```

<br />

## ğŸ“Â app.use()

expressì—ëŠ” http ëª¨ë“ˆ ì™¸ì—ë„ ë‹¤ë¥¸ ëª¨ë“ˆë“¤ì„ ë¯¸ë“¤ì›¨ì–´ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

`use()` ë¥¼ í™œìš©í•˜ë©´ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì—°ê²°í•  ìˆ˜ ìˆìŒ!

```jsx
app.use(express.json());

app.post("/test", (req, res) => {
  console.log(req.body);
});
```

<br />

## ğŸ“Â youtuber ì‹¤ìŠµ

â†’ POSTë¡œ ìƒˆë¡œìš´ youtuber ë“±ë¡í•´ë³´ê¸°!

### âœ”ï¸Â API ì„¤ê³„

- `GET /youtuber/:id` : idë¡œ mapì—ì„œ youtuber ê°ì²´ë¥¼ ì°¾ì•„ì„œ, í•´ë‹¹ ê°ì²´ì˜ ì •ë³´ë¥¼ ë¿Œë ¤ì¤Œ.
  - **req**: params.id â† mapì— ì €ì¥ëœ key ê°’ ì „ë‹¬.
  - **res**: idë¥¼ ì´ìš©í•˜ì—¬ mapì—ì„œ ê°ì²´ ì¡°íšŒ í›„ ì „ë‹¬.
- `POST /youtuber` : ìƒˆë¡œìš´ ìœ íŠœë²„ ë“±ë¡.
  - **req**: ìƒˆë¡œìš´ ìœ íŠœë²„ ì •ë³´ë¥¼ bodyì— ë‹´ì•„ì„œ ì „ë‹¬. (channel, sub, video)
  - **res**: â€œchannelë‹˜, ìœ íŠœë²„ ìƒí™œì„ ì‘ì›í•©ë‹ˆë‹¤!â€

### âœ”ï¸Â GET API êµ¬í˜„

youtuberì˜ id ê°’ì„ ì „ë‹¬ë°›ì•„ dbì—ì„œ ì¡°íšŒí•œ í›„ ì¡°íšŒëœ ê°’ì„ ì‘ë‹µìœ¼ë¡œ ëŒë ¤ì¤€ë‹¤.

```jsx
app.get("/youtuber/:id", (req, res) => {
  let { id } = req.params;
  id = parseInt(id);
  const youtuber = db.get(id);

  // ìœ íŠœë²„ê°€ ì—†ë‹¤ë©´?
  if (youtuber === undefined) {
    res.json({
      message: "ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìœ íŠœë²„ì…ë‹ˆë‹¤.",
    });
  }
  // ìœ íŠœë²„ê°€ ìˆë‹¤ë©´?
  else {
    res.json(youtuber);
  }
});
```

### âœ”ï¸Â POST API êµ¬í˜„

body ê°’ì„ êµ¬ì¡° ë¶„í•´ í• ë‹¹í•œ í›„ dbì— ë“±ë¡í•´ì£¼ê³ , ì‘ë‹µ ê°’ì„ ì „ë‹¬í•œë‹¤.

dbì— ë“±ë¡í•  ë•Œ í•´ë‹¹ youtuberì˜ id ê°’ì€ dbì— ì¡´ì¬í•˜ëŠ” youtuber ìˆ˜ì— ë”°ë¼ ì°¨ë¡€ëŒ€ë¡œ í• ë‹¹ë˜ê²Œë” í–ˆë‹¤.

```jsx
app.post("/youtuber", (req, res) => {
  const { channel, sub, video } = req.body; // ìš”ì²­ body ê°’ êº¼ë‚´ê¸°
  const newId = db.size + 1; // id êµ¬í•˜ê¸°

  // dbì— ë“±ë¡!
  db.set(newId, { channel, sub, video });

  // ì‘ë‹µ ì „ì†¡
  res.json({
    message: `${db.get(newId).channel}ë‹˜, ìœ íŠœë²„ ìƒí™œì„ ì‘ì›í•©ë‹ˆë‹¤!`,
  });
});
```

Postman í…ŒìŠ¤íŠ¸ ê²°ê³¼ë„ ë‹¤ìŒê³¼ ê°™ì´ ì˜ ì‘ë™ë˜ëŠ” ê²ƒìœ¼ë¡œ í™•ì¸ ì™„!

<img width="686" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-20 á„‹á…©á„Œá…¥á†« 11 47 07" src="https://github.com/JIMIN1020/dev-study-note/assets/121474189/2a22da68-58f0-4cff-9e0c-0a8efc0fc0d9">

<br />

## ğŸ“Â youtuber ì „ì²´ ì¡°íšŒ

dbì— ìˆëŠ” ëª¨ë“  youtuberë“¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ì „ì²´ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” APIë¥¼ êµ¬í˜„í•  ê²ƒì´ë‹¤.

### âœ”ï¸Â API ì„¤ê³„

- `GET  /youtubers` : ì „ì²´ youtuber ì •ë³´ë¥¼ ì „ì²´ ì¡°íšŒí•œë‹¤.
  - **req**: ì „ë‹¬ ê°’ ì—†ìŒ!
  - **res**: ì „ì²´ youtuberì˜ ì •ë³´ ì „ë‹¬

### âœ”ï¸Â GET API êµ¬í˜„

í˜„ì¬ëŠ” â€˜dbâ€™ë¼ê³  ì •ì˜í•´ë†“ì€ map ê°ì²´ë¥¼ DB ëŒ€ì‹  ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, mapì„ ê¸°ì¡´ì˜ javascript ê°ì²´ë¡œ ë°”ê¿”ì„œ ì „ë‹¬í•´ì¤¬ë‹¤.

```jsx
app.get("/youtubers", (req, res) => {
  // map -> objectë¡œ ë³€ê²½
  const obj = {};
  db.forEach((value, key) => {
    obj[key] = value;
  });

  // ì „ì²´ ë°ì´í„° ì „ì†¡
  res.json(obj);
});
```

Postman í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì˜ ë‚˜ì˜¤ëŠ” ê²ƒê¹Œì§€ í™•ì¸!

â†’ ìƒˆë¡œ ì¶”ê°€í•œ youtuber ë°ì´í„°ë„ ì•Œë§ê²Œ ì¶”ê°€ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

<img width="682" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-20 á„‹á…©á„’á…® 12 22 28" src="https://github.com/JIMIN1020/dev-study-note/assets/121474189/08ed277b-d071-4c39-a90d-69070f6ce627">
