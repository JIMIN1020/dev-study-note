## ğŸ“Â Express + Map ì‹¤ìŠµ

### âœ”ï¸Â Map ê°ì²´ í™œìš©í•´ë³´ê¸°

```jsx
const express = require("express");
const app = express();

// map
const db = new Map();
db.set(1, "Cup");

app.get("/:id", (req, res) => {
  let { id } = req.params;
  id = parseInt(id); // ë¬¸ìì—´ì¸ parameterë¥¼ ì •ìˆ˜ë¡œ

  // ì•„ì´ë””ê°€ ì—†ë‹¤ë©´?
  if (db.get(id) === undefined) {
    res.json({
      message: "ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤.",
    });
  }
  // ì•„ì´ë””ê°€ ìˆë‹¤ë©´?
  else {
    res.json({
      id: id,
      product: db.get(id),
    });
  }
});
```

### âœ”ï¸Â Youtuber

id ê°’ì„ parameterë¡œ ë°›ì•„ì™€ì„œ ê·¸ì— ë§ëŠ” ìœ íŠœë²„ ê°ì²´ì˜ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ëŠ” API!

```jsx
// express ëª¨ë“ˆ ì…‹íŒ…
const express = require("express");
const app = express();

app.listen(8888, () => {
  console.log("Server listening on 8888....");
});

// youtuber ê°ì²´ ì…‹íŒ…
let youtuber1 = {
  channel: "ì‹­ì˜¤ì•¼",
  sub: "593ë§Œëª…",
  video: "933ê°œ",
};
let youtuber2 = {
  channel: "ì¹¨ì°©ë§¨",
  sub: "227ë§Œëª…",
  video: "6.6ì²œê°œ",
};
let youtuber3 = {
  channel: "í…Œì˜¤",
  sub: "54.8ë§Œëª…",
  video: "726ê°œ",
};

// map ì…‹íŒ…
const db = new Map();
db.set(1, youtuber1);
db.set(2, youtuber2);
db.set(3, youtuber3);

// REST API
app.get("/youtuber/:id", (req, res) => {
  let { id } = req.params;
  id = parseInt(id);
  const youtuber = db.get(id);

  // ìœ íŠœë²„ê°€ ì—†ë‹¤ë©´?
  if (youtuber === undefined) {
    res.json({
      message: "ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìœ íŠœë²„ì…ë‹ˆë‹¤.",
    });
  }
  // ìœ íŠœë²„ê°€ ìˆë‹¤ë©´?
  else {
    res.json(youtuber);
  }
});
```

<br />

## ğŸ“Â Express generator

Expressì˜ ê¸°ë³¸ í™˜ê²½ì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” express-generatorë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### âœ”ï¸Â ì„¤ì¹˜

ë¨¼ì € í„°ë¯¸ë„ì—ì„œ express-generatorë¥¼ ì„¤ì¹˜í•´ì¤€ ë’¤,

```bash
sudo npm i express-generator -g
```

`express` ë¥¼ í„°ë¯¸ë„ì— ì…ë ¥í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ì´ ë‚˜ì˜¨ë‹¤.

<img width="508" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-19 á„‹á…©á„Œá…¥á†« 11 46 59" src="https://github.com/JIMIN1020/dev-study-note/assets/121474189/b44bc66a-deff-4739-961f-0fc46e714dc7">

ê·¸ë¦¬ê³  í•´ë‹¹ í´ë” ì•ˆì— ì´ì™€ ê°™ì´ ê¸°ë³¸ì ì¸ íŒ¨í‚¤ì§€ê°€ ì„¸íŒ…ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ!

<img width="212" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-19 á„‹á…©á„Œá…¥á†« 11 47 32" src="https://github.com/JIMIN1020/dev-study-note/assets/121474189/fdceca79-c598-48fa-a84c-7e8a8dc1bb90">

<br />

## ğŸ“Â Expressì˜ êµ¬ì¡°

### âœ”ï¸Â bin/www

http ëª¨ë“ˆì— express ëª¨ë“ˆì„ ì—°ê²°í•˜ê³  í¬íŠ¸ë¥¼ ì§€ì •í•˜ëŠ” íŒŒì¼ì´ë‹¤.

```jsx
// ëª¨ë“ˆ ë¶ˆëŸ¬ì˜¤ê¸°
var app = require("../app");
var debug = require("debug")("express-base:server");
var http = require("http");

// í¬íŠ¸ ì„¤ì •
port = normalizePort(process.env.PORT || "3000");
app.set("port", port);

// http ì„œë²„ ìƒì„±!
var server = http.createServer(app);

// ì„œë²„ êµ¬ë™
server.listen(port);
server.on("error", onError);
server.on("listening", onListening);
```

### âœ”ï¸Â app.js

ë¯¸ë“¤ì›¨ì–´ë¥¼ ê±°ì³ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ì•„ ì²˜ë¦¬í•œ í›„, ë‹¤ì‹œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µí•˜ëŠ” íŒŒì¼ì´ë‹¤.

```jsx
// ëª¨ë“ˆ ë¶ˆëŸ¬ì˜¤ê¸°
var createError = require("http-errors");
var express = require("express");
var path = require("path");
var cookieParser = require("cookie-parser");
var logger = require("morgan");

var indexRouter = require("./routes/index");
var usersRouter = require("./routes/users");

// express ì„œë²„ ìƒì„±
var app = express();

// view engine setup
app.set("views", path.join(__dirname, "views"));
app.set("view engine", "jade");

// ë¯¸ë“¤ì›¨ì–´ ì—°ê²°
app.use(logger("dev"));
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, "public")));

app.use("/", indexRouter);
app.use("/users", usersRouter);

// ...

module.exports = app;
```

<br />

## ğŸ“Â ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ì˜ ì¢…ë¥˜

### âœ”ï¸Â ì„ ì–¸ì  í•¨ìˆ˜

ê°€ì¥ ê¸°ë³¸ì ì¸ ë°©ë²•.

í˜¸ì´ìŠ¤íŒ…ì´ ë˜ê¸° ë•Œë¬¸ì— ì–´ë””ì„œë“  í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

```jsx
function func() {
  console.log("Hello");
}
```

### âœ”ï¸Â ìµëª… í•¨ìˆ˜ (ëŒ€ì…í˜• í•¨ìˆ˜)

í•œ ì¤„ì”© ì½ìœ¼ë©° ìƒì„±ë˜ê¸° ë•Œë¬¸ì— ì„ ì–¸ í›„ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```jsx
const sayHello = function () {
  console.log("Hello");
};
```

### âœ”ï¸Â ì¼ê¸‰ í•¨ìˆ˜

í•¨ìˆ˜ ìŠ¤ìŠ¤ë¡œê°€ ê°ì²´ë¡œ, ì¦‰ ê°’ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒì„ ë§í•œë‹¤.

ìµëª… í•¨ìˆ˜, ì½œë°± í•¨ìˆ˜ê°€ ì—¬ê¸°ì— í•´ë‹¹!

```jsx
function func() {
  return "Hello";
}

function func2(func) {
  console.log(func());
}

func2(func);
```

### âœ”ï¸Â í™”ì‚´í‘œ í•¨ìˆ˜

ES6ì˜ í™”ì‚´í‘œ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.

```jsx
const func = () => {
  console.log("Hello");
};
```

### âœ”ï¸Â ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜

ì„ ì–¸ê³¼ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ë¡œ, ì¬ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°ì— í•´ë‹¹í•œë‹¤.

â†’ ex) ì½œë°± í•¨ìˆ˜!

```jsx
(function () {
  console.log("hello");
})();

(() => {
  console.log("hello");
})();
```

<br />
